@use super::super::prelude::*;
@use super::{footer, head_canon, me_box};
@use crate::models::{Post, PostLink, Tag};

@(fluent: &FluentLanguageLoader, post: &Post, tags: &[Tag], other_langs: &[String], similar: &[PostLink])

<!doctype html>
<html lang="@post.lang">
  <head>
    <title>@post.title â€” @fl!(fluent, "sitename")</title>
    @:head_canon()
  </head>
  <body>
    <header>
      <p><a href="/@post.lang">@fl!(fluent, "sitename")</a></p>
      @for other in other_langs {<p>@Html(other)</p>}
    </header>

    <main>
      <h1>@Html(&post.title)</h1>
      <p class="publine">@Html(post.publine(tags))</p>
      @Html(&post.content)
    </main>
    @if !similar.is_empty() {
    <aside>
      <h1>@fl!(fluent, "related")</h1>
      <ul>@for link in similar {
        <li><a href="@link.url()">@link.title</a> (@link.year)</li>
        }</ul>
    </aside>
    }
    @:me_box(fluent)
    @:footer(fluent)
  </body>
</html>
